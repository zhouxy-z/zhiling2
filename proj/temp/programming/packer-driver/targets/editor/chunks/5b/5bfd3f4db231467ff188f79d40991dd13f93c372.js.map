{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/mail/MailPlayerPanel.ts"],"names":["MailPlayerPanel","Input","Label","Panel","prefab","head","nameLab","uidLab","guide_name","guiidejob_name","homlandLab","inviteBtn","giftBtn","data","onLoad","CloseBy","find","onBntEvent","on","EventType","TOUCH_END","onSendGift","onShow","flush","initMsg","string","nickName","playerId","appointed_str","Name","onHide","args"],"mappings":";;;oGAIaA,e;;;;;;;;;;;;;;;;;;;AAJLC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;;AACNC,MAAAA,K,iBAAAA,K;;;;;;;;;iCAGIH,e,GAAN,MAAMA,eAAN;AAAA;AAAA,0BAAoC;AAAA;AAAA;AAAA,eAC7BI,MAD6B,GACZ,8BADY;AAAA,eAG7BC,IAH6B;AAAA,eAI7BC,OAJ6B;AAAA,eAK7BC,MAL6B;AAAA,eAM7BC,UAN6B;AAAA,eAO7BC,cAP6B;AAAA,eAQ7BC,UAR6B;AAAA,eAS7BC,SAT6B;AAAA,eAU7BC,OAV6B;AAAA,eAW/BC,IAX+B,GAWF,IAXE;AAAA;;AAa7BC,QAAAA,MAAM,GAAG;AACf,eAAKC,OAAL,CAAa,MAAb;AACA,eAAKA,OAAL,CAAa,mBAAb;AACA,eAAKV,IAAL,GAAY,KAAKW,IAAL,CAAW,sBAAX,CAAZ;AACA,eAAKV,OAAL,GAAe,KAAKU,IAAL,CAAW,2BAAX,EAAuCd,KAAvC,CAAf;AACA,eAAKK,MAAL,GAAc,KAAKS,IAAL,CAAW,qBAAX,EAAiCd,KAAjC,CAAd;AACA,eAAKM,UAAL,GAAkB,KAAKQ,IAAL,CAAW,4BAAX,EAAwCd,KAAxC,CAAlB;AACA,eAAKO,cAAL,GAAsB,KAAKO,IAAL,CAAW,gCAAX,EAA4Cd,KAA5C,CAAtB;AACA,eAAKQ,UAAL,GAAkB,KAAKM,IAAL,CAAW,sBAAX,EAAkCd,KAAlC,CAAlB;AACA,eAAKS,SAAL,GAAiB,KAAKK,IAAL,CAAW,uBAAX,CAAjB;AACA,eAAKJ,OAAL,GAAe,KAAKI,IAAL,CAAW,qBAAX,CAAf;AACA,eAAKC,UAAL,GAXe,CAYf;AACH;;AAEOA,QAAAA,UAAU,GAAG;AACjB,eAAKN,SAAL,CAAeO,EAAf,CAAkBjB,KAAK,CAACkB,SAAN,CAAgBC,SAAlC,EAA6C,MAAM,CAAG,CAAtD,EAAwD,IAAxD;AACA,eAAKR,OAAL,CAAaM,EAAb,CAAgBjB,KAAK,CAACkB,SAAN,CAAgBC,SAAhC,EAA2C,KAAKC,UAAhD,EAA4D,IAA5D;AACH;;AAEOA,QAAAA,UAAU,GAAG,CACjB;AACH;;AAESC,QAAAA,MAAM,GAAS,CAExB;;AAEMC,QAAAA,KAAK,CAACV,IAAD,EAAmC;AAC3C,eAAKA,IAAL,GAAYA,IAAZ;AACA,eAAKW,OAAL;AACH;AAED;;;AACQA,QAAAA,OAAO,GAAG;AACd,eAAKlB,OAAL,CAAamB,MAAb,GAAsB,KAAKZ,IAAL,CAAUa,QAAhC;AACA,eAAKnB,MAAL,CAAYkB,MAAZ,GAAqB,KAAKZ,IAAL,CAAUc,QAA/B;AACA,cAAIC,aAAa,GAAG,IAApB,CAHc,CAId;AACA;AACA;AACA;;AACA,eAAKnB,cAAL,CAAoBgB,MAApB,GAA6BG,aAAa,GAAGA,aAAa,CAACC,IAAjB,GAAwB,GAAlE,CARc,CASd;AACA;AACA;AACA;AACH;;AAESC,QAAAA,MAAM,CAAC,GAAGC,IAAJ,EAAuB,CACnC;AACH;;AAhEsC,O","sourcesContent":["import {Input, Label, Node} from \"cc\";\r\nimport { Panel } from \"../../manager/GameRoot\";\r\nimport  base from \"../../net/proto/BaseUtils\";\r\n\r\nexport class MailPlayerPanel extends Panel {\r\n    protected prefab: string = \"prefabs/mail/MailPlayerPanel\";\r\n\r\n    protected head: Node;\r\n    protected nameLab: Label;\r\n    protected uidLab: Label;\r\n    protected guide_name: Label;\r\n    protected guiidejob_name: Label;\r\n    protected homlandLab: Label;\r\n    protected inviteBtn: Node;\r\n    protected giftBtn: Node;\r\n    private data: base.IPlayerShowInfo = null;\r\n\r\n    protected onLoad() {\r\n        this.CloseBy(\"mask\");\r\n        this.CloseBy(\"spriteFrame/Close\");\r\n        this.head = this.find(`spriteFrame/headInfo`);\r\n        this.nameLab = this.find(`spriteFrame/msg/role_name`, Label);\r\n        this.uidLab = this.find(`spriteFrame/msg/uid`, Label);\r\n        this.guide_name = this.find(`spriteFrame/msg/guide_name`, Label);\r\n        this.guiidejob_name = this.find(`spriteFrame/msg/guiidejob_name`, Label);\r\n        this.homlandLab = this.find(`spriteFrame/msg/land`, Label);\r\n        this.inviteBtn = this.find(`spriteFrame/inviteBtn`);\r\n        this.giftBtn = this.find(`spriteFrame/giftBtn`);\r\n        this.onBntEvent()\r\n        // EventMgr.on(Evt_Mail_Update, this.flush, this);\r\n    }\r\n\r\n    private onBntEvent() {\r\n        this.inviteBtn.on(Input.EventType.TOUCH_END, () => { }, this);\r\n        this.giftBtn.on(Input.EventType.TOUCH_END, this.onSendGift, this);\r\n    }\r\n\r\n    private onSendGift() {\r\n        // MailSendPanel.Show(this.data);\r\n    }\r\n\r\n    protected onShow(): void {\r\n\r\n    }\r\n\r\n    public flush(data: base.IPlayerShowInfo): void {\r\n        this.data = data;\r\n        this.initMsg()\r\n    }\r\n\r\n    /**初始化玩家信息 */\r\n    private initMsg() {\r\n        this.nameLab.string = this.data.nickName;\r\n        this.uidLab.string = this.data.playerId;\r\n        let appointed_str = null\r\n        // if(this.data.guild_info){\r\n        //     appointed_str = CfgMgr.GetGuildRole(this.data.guild_info.role_type);\r\n        // }\r\n        // this.guide_name.string = this.data.guild_info ? (this.data.guild_info.name != \"\" ? this.data.guild_info.name : \"未加入\" ) : \"未加入\";\r\n        this.guiidejob_name.string = appointed_str ? appointed_str.Name : \"无\";\r\n        // let homeLandMsg = CfgMgr.GetHomeLandInit(this.data.homeland_id);\r\n        // if (homeLandMsg) {\r\n        //     this.homlandLab.string = homeLandMsg.Desc[0];\r\n        // }\r\n    }\r\n\r\n    protected onHide(...args: any[]): void {\r\n        // EventMgr.off(Evt_Mail_Update, this.flush, this);\r\n    }\r\n\r\n}\r\n"]}