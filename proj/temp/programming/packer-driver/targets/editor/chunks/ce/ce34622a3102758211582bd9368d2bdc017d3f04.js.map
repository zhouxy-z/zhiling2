{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/friend/FriendInfoPanel.ts"],"names":["FriendInfoPanel","Button","Label","Sprite","Panel","prefab","player_name","id","wx_num","qq_num","icon","idCloneBtn","wxCloneBtn","qqCloneBtn","onLoad","CloseBy","find","node","on","onClick","onShow","flush","player_id","updateInfo","data","string","name","wechat_id","qq_id","event","copyInfo","console","log","info","onHide","args"],"mappings":"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","sourcesContent":["import { Button, EventTouch, Input, Label, Node, Sprite, SpriteFrame, Toggle, UIOpacity, instantiate, path, v3 } from \"cc\";\r\nimport { Panel } from \"../../manager/GameRoot\";\r\nimport { SGetContactInfo } from \"../player/PlayerStruct\";\r\n\r\nexport class FriendInfoPanel extends Panel {\r\n    protected prefab: string = \"prefabs/friend/FriendInfoPanel\";\r\n\r\n    private player_name: Label;\r\n    private id: Label;\r\n    private wx_num: Label;\r\n    private qq_num: Label;\r\n    private icon: Sprite;\r\n    private idCloneBtn: Button;\r\n    private wxCloneBtn: Button;\r\n    private qqCloneBtn: Button;\r\n\r\n\r\n\r\n    protected onLoad(): void {\r\n        this.CloseBy(\"mask\");\r\n        this.CloseBy(\"frame/closeBtn\");\r\n        this.player_name = this.find(\"frame/friendInfoPage/player_name\", Label);\r\n        this.id = this.find(\"frame/friendInfoPage/id\", Label);\r\n        this.wx_num = this.find(\"frame/friendInfoPage/wx_num\", Label);\r\n        this.qq_num = this.find(\"frame/friendInfoPage/qq_num\", Label);\r\n        this.icon = this.find(\"bg/icon\", Sprite);\r\n        this.idCloneBtn = this.find(\"frame/friendInfoPage/idCloneBtn\", Button);\r\n        this.wxCloneBtn = this.find(\"frame/friendInfoPage/wxCloneBtn\", Button);\r\n        this.qqCloneBtn = this.find(\"frame/friendInfoPage/qqCloneBtn\", Button);\r\n        this.idCloneBtn.node.on(\"click\", this.onClick, this);\r\n        this.wxCloneBtn.node.on(\"click\", this.onClick, this);\r\n        this.qqCloneBtn.node.on(\"click\", this.onClick, this);\r\n        // EventMgr.on(Evt_GetContactInfo, this.updateInfo, this);\r\n    }\r\n\r\n    protected onShow(): void {\r\n    }\r\n\r\n    async flush(player_id: string) {\r\n        // let data = {\r\n        //     type: MsgTypeSend.GetContactInfoRequest,\r\n        //     data: { player_id: player_id }\r\n        // }\r\n        // Session.Send(data);\r\n    }\r\n\r\n    private updateInfo(data: SGetContactInfo) {\r\n        this.player_name.string = data.name;\r\n        this.id.string = data.player_id;\r\n        this.wx_num.string = data.wechat_id != \"\" ? data.wechat_id : \"未填写信息\";\r\n        this.qq_num.string = data.qq_id != \"\" ? data.qq_id : \"未填写信息\";\r\n    }\r\n\r\n    private onClick(event: Button) {\r\n        let name = event.node.name;\r\n        switch (name) {\r\n            case \"idCloneBtn\":\r\n                this.copyInfo(this.id.string)\r\n                console.log(\"clone_id\")\r\n                break;\r\n            case \"wxCloneBtn\":\r\n                this.copyInfo(this.wx_num.string)\r\n                console.log(\"clone_wx\")\r\n                break;\r\n            case \"qqCloneBtn\":\r\n                this.copyInfo(this.qq_num.string)\r\n                console.log(\"clone_qq\")\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private copyInfo(info:string){\r\n        // CopyToClip(info, (desc: string) => {\r\n        //     if (desc ==  info) {\r\n        //         MsgPanel.Show(\"已复制到粘贴板\");\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    protected onHide(...args: any[]): void {\r\n\r\n    }\r\n}"]}