{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/manager/GameScene.ts"],"names":["_decorator","Camera","Component","director","find","GameSet","ccclass","property","GameScene","onLoad","instance","destroy","console","error","scene","getScene","mainCamera","getComponent","SceneHight","node","position","y","start","update","deltaTime","Init","Reset","addCard","k","cards","card","receive"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAqBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;;AAEnDC,MAAAA,O,iBAAAA,O;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;2BAGjBQ,S,WADZF,OAAO,CAAC,WAAD,C,2BAAR,MACaE,SADb,SAC+BN,SAD/B,CACyC;AAG3BO,QAAAA,MAAM,GAAS;AACrB,cAAID,SAAS,CAACE,QAAd,EAAwB;AACpBF,YAAAA,SAAS,CAACE,QAAV,CAAmBC,OAAnB;AACAC,YAAAA,OAAO,CAACC,KAAR,CAAc,aAAd;AACH;;AACDL,UAAAA,SAAS,CAACE,QAAV,GAAqB,IAArB;AACAF,UAAAA,SAAS,CAACM,KAAV,GAAkBX,QAAQ,CAACY,QAAT,EAAlB;AAEA;AAAA;AAAA,kCAAQC,UAAR,GAAqBZ,IAAI,CAAC,YAAD,CAAJ,CAAmBa,YAAnB,CAAgChB,MAAhC,CAArB;AACA;AAAA;AAAA,kCAAQiB,UAAR,GAAqB;AAAA;AAAA,kCAAQF,UAAR,CAAmBG,IAAnB,CAAwBC,QAAxB,CAAiCC,CAAtD;AACH;;AAEDC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEU,eAAJC,IAAI,GAAG;AACV,eAAKC,KAAL;AACH;;AAGa,eAAPC,OAAO,CAACR,IAAD,EAAkB,CAE/B;;AAEW,eAALO,KAAK,GAAG;AACX,eAAI,IAAIE,CAAR,IAAa,KAAKC,KAAlB,EAAyB;AACrB,gBAAIC,IAAI,GAAG,KAAKD,KAAL,CAAWD,CAAX,CAAX;AACAE,YAAAA,IAAI,CAACC,OAAL;AACH;;AACD,eAAKF,KAAL,GAAa,EAAb;AACH;;AAtCoC,O,UACpBnB,Q,mBACAI,K,mBAyBAe,K,GAAqC,E","sourcesContent":["import { _decorator, Camera, Component, Director, director, find, instantiate, Node, Scene, sys } from 'cc';\r\nimport { Card } from '../module/fight/display/Card';\r\nimport { GameSet } from './GameSet';\r\nimport { SceneCard } from '../module/fight/display/SceneCard';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameScene')\r\nexport class GameScene extends Component {\r\n    protected static instance: GameScene;\r\n    protected static scene: Scene;\r\n    protected onLoad(): void {\r\n        if (GameScene.instance) {\r\n            GameScene.instance.destroy();\r\n            console.error(\"场景实例不能重复创建！\");\r\n        }\r\n        GameScene.instance = this;\r\n        GameScene.scene = director.getScene();\r\n\r\n        GameSet.mainCamera = find(\"MainCamera\").getComponent(Camera);\r\n        GameSet.SceneHight = GameSet.mainCamera.node.position.y;\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n\r\n    static Init() {\r\n        this.Reset();\r\n    }\r\n\r\n    protected static cards: { [id: string]: SceneCard } = {};\r\n    static addCard(node: SceneCard) {\r\n\r\n    }\r\n\r\n    static Reset() {\r\n        for(let k in this.cards) {\r\n            let card = this.cards[k];\r\n            card.receive();\r\n        }\r\n        this.cards = {};\r\n    }\r\n}\r\n\r\n\r\n"]}