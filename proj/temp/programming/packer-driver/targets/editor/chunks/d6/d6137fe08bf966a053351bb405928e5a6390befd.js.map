{"version":3,"sources":["file:///C:/ProgramData/cocos/editors/Creator/3.8.4/resources/resources/3d/engine/editor/assets/default_renderpipeline/builtin-pipeline-settings.ts"],"names":["_decorator","Camera","CCBoolean","CCFloat","CCInteger","Component","Material","rendering","Texture2D","EDITOR","makePipelineSettings","fillRequiredPipelineSettings","ccclass","disallowMultiple","executeInEditMode","menu","property","requireComponent","type","BuiltinPipelineSettings","displayName","group","id","name","style","range","tooltip","slide","visible","min","onEnable","_settings","cameraComponent","getComponent","camera","pipelineSettings","_tryEnableEditorPreview","onDisable","_disableEditorPreview","editorPreview","_editorPreview","v","undefined","setEditorPipelineSettings","current","getEditorPipelineSettings","MsaaEnable","msaa","enabled","value","msaaSampleCount","Math","ceil","log2","max","sampleCount","shadingScaleEnable","enableShadingScale","shadingScale","dofEnable","depthOfField","dofMaterial","material","dofFocusDistance","focusDistance","dofFocusRange","focusRange","dofBokehRadius","bokehRadius","bloomEnable","bloom","bloomMaterial","bloomEnableAlphaMask","enableAlphaMask","bloomIterations","iterations","bloomThreshold","threshold","bloomIntensity","intensity","colorGradingEnable","colorGrading","colorGradingMaterial","colorGradingContribute","contribute","colorGradingMap","val","fxaaEnable","fxaa","fxaaMaterial","fsrEnable","fsr","fsrMaterial","fsrSharpness","sharpness","toneMappingMaterial","toneMapping"],"mappings":"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","sourcesContent":["/*\r\n Copyright (c) 2021-2024 Xiamen Yaji Software Co., Ltd.\r\n\r\n https://www.cocos.com/\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\nimport {\r\n    _decorator,\r\n    Camera,\r\n    CCBoolean,\r\n    CCFloat,\r\n    CCInteger,\r\n    Component,\r\n    Material,\r\n    rendering,\r\n    Texture2D,\r\n} from 'cc';\r\n\r\nimport { EDITOR } from 'cc/env';\r\n\r\nimport {\r\n    PipelineSettings,\r\n    makePipelineSettings,\r\n    fillRequiredPipelineSettings,\r\n} from './builtin-pipeline-types';\r\n\r\nconst { ccclass, disallowMultiple, executeInEditMode, menu, property, requireComponent, type } = _decorator;\r\n\r\n@ccclass('BuiltinPipelineSettings')\r\n@menu('Rendering/BuiltinPipelineSettings')\r\n@requireComponent(Camera)\r\n@disallowMultiple\r\n@executeInEditMode\r\nexport class BuiltinPipelineSettings extends Component {\r\n    @property\r\n    private readonly _settings: PipelineSettings = makePipelineSettings();\r\n\r\n    // Enable/Disable\r\n    onEnable(): void {\r\n        fillRequiredPipelineSettings(this._settings);\r\n        const cameraComponent = this.getComponent(Camera)!;\r\n        const camera = cameraComponent.camera;\r\n        camera.pipelineSettings = this._settings;\r\n\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    onDisable(): void {\r\n        const cameraComponent = this.getComponent(Camera)!;\r\n        const camera = cameraComponent.camera;\r\n        camera.pipelineSettings = null;\r\n\r\n        if (EDITOR) {\r\n            this._disableEditorPreview();\r\n        }\r\n    }\r\n\r\n    // Editor Preview\r\n    @property(CCBoolean)\r\n    protected _editorPreview = false;\r\n\r\n    @property({\r\n        displayName: 'Editor Preview (Experimental)',\r\n        type: CCBoolean,\r\n    })\r\n    get editorPreview(): boolean {\r\n        return this._editorPreview;\r\n    }\r\n    set editorPreview(v: boolean) {\r\n        this._editorPreview = v;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    private _tryEnableEditorPreview(): void {\r\n        if (rendering === undefined) {\r\n            return;\r\n        }\r\n        if (this._editorPreview) {\r\n            rendering.setEditorPipelineSettings(this._settings);\r\n        } else {\r\n            this._disableEditorPreview();\r\n        }\r\n    }\r\n    private _disableEditorPreview(): void {\r\n        if (rendering === undefined) {\r\n            return;\r\n        }\r\n        const current = rendering.getEditorPipelineSettings() as PipelineSettings | null;\r\n        if (current === this._settings) {\r\n            rendering.setEditorPipelineSettings(null);\r\n        }\r\n    }\r\n\r\n    // MSAA\r\n    @property({\r\n        group: { id: 'MSAA', name: 'Multisample Anti-Aliasing' },\r\n        type: CCBoolean,\r\n    })\r\n    get MsaaEnable(): boolean {\r\n        return this._settings.msaa.enabled;\r\n    }\r\n    set MsaaEnable(value: boolean) {\r\n        this._settings.msaa.enabled = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'MSAA', name: 'Multisample Anti-Aliasing', style: 'section' },\r\n        type: CCInteger,\r\n        range: [2, 4, 2],\r\n    })\r\n    set msaaSampleCount(value: number) {\r\n        value = 2 ** Math.ceil(Math.log2(Math.max(value, 2)));\r\n        value = Math.min(value, 4);\r\n        this._settings.msaa.sampleCount = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get msaaSampleCount(): number {\r\n        return this._settings.msaa.sampleCount;\r\n    }\r\n\r\n    // Shading Scale\r\n    @property({\r\n        group: { id: 'ShadingScale', name: 'ShadingScale', style: 'section' },\r\n        type: CCBoolean,\r\n    })\r\n    set shadingScaleEnable(value: boolean) {\r\n        this._settings.enableShadingScale = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get shadingScaleEnable(): boolean {\r\n        return this._settings.enableShadingScale;\r\n    }\r\n\r\n    @property({\r\n        tooltip: 'i18n:postprocess.shadingScale',\r\n        group: { id: 'ShadingScale', name: 'ShadingScale' },\r\n        type: CCFloat,\r\n        range: [0.01, 4, 0.01],\r\n        slide: true,\r\n    })\r\n    set shadingScale(value: number) {\r\n        this._settings.shadingScale = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get shadingScale(): number {\r\n        return this._settings.shadingScale;\r\n    }\r\n\r\n    // DepthOfField\r\n    @property({\r\n        group: { id: 'DepthOfField', name: 'DepthOfField (PostProcessing)', style: 'section' },\r\n        type: CCBoolean,\r\n        visible: false,\r\n    })\r\n    set dofEnable(value: boolean) {\r\n        this._settings.depthOfField.enabled = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get dofEnable(): boolean {\r\n        return this._settings.depthOfField.enabled;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'DepthOfField', name: 'DepthOfField (PostProcessing)', style: 'section' },\r\n        type: Material,\r\n        visible: false,\r\n    })\r\n    set dofMaterial(value: Material) {\r\n        if (this._settings.depthOfField.material === value) {\r\n            return;\r\n        }\r\n        this._settings.depthOfField.material = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get dofMaterial(): Material {\r\n        return this._settings.depthOfField.material!;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'DepthOfField', name: 'DepthOfField (PostProcessing)', style: 'section' },\r\n        type: CCFloat,\r\n        min: 0,\r\n        visible: false,\r\n    })\r\n    set dofFocusDistance(value: number) {\r\n        this._settings.depthOfField.focusDistance = value;\r\n    }\r\n    get dofFocusDistance(): number {\r\n        return this._settings.depthOfField.focusDistance;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'DepthOfField', name: 'DepthOfField (PostProcessing)', style: 'section' },\r\n        type: CCFloat,\r\n        min: 0,\r\n        visible: false,\r\n    })\r\n    set dofFocusRange(value: number) {\r\n        this._settings.depthOfField.focusRange = value;\r\n    }\r\n    get dofFocusRange(): number {\r\n        return this._settings.depthOfField.focusRange;\r\n    }\r\n\r\n    @type(CCFloat)\r\n    @property({\r\n        group: { id: 'DepthOfField', name: 'DepthOfField (PostProcessing)', style: 'section' },\r\n        type: CCFloat,\r\n        range: [1, 10, 0.01],\r\n        slide: true,\r\n        visible: false,\r\n    })\r\n    set dofBokehRadius(value: number) {\r\n        this._settings.depthOfField.bokehRadius = value;\r\n    }\r\n    get dofBokehRadius(): number {\r\n        return this._settings.depthOfField.bokehRadius;\r\n    }\r\n\r\n    // Bloom\r\n    @property({\r\n        group: { id: 'Bloom', name: 'Bloom (PostProcessing)', style: 'section' },\r\n        type: CCBoolean,\r\n    })\r\n    set bloomEnable(value: boolean) {\r\n        this._settings.bloom.enabled = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get bloomEnable(): boolean {\r\n        return this._settings.bloom.enabled;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'Bloom', name: 'Bloom (PostProcessing)', style: 'section' },\r\n        type: Material,\r\n    })\r\n    set bloomMaterial(value: Material) {\r\n        if (this._settings.bloom.material === value) {\r\n            return;\r\n        }\r\n        this._settings.bloom.material = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get bloomMaterial(): Material {\r\n        return this._settings.bloom.material!;\r\n    }\r\n\r\n    @property({\r\n        tooltip: 'i18n:bloom.enableAlphaMask',\r\n        group: { id: 'Bloom', name: 'Bloom (PostProcessing)', style: 'section' },\r\n        type: CCBoolean,\r\n    })\r\n    set bloomEnableAlphaMask(value: boolean) {\r\n        this._settings.bloom.enableAlphaMask = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get bloomEnableAlphaMask(): boolean {\r\n        return this._settings.bloom.enableAlphaMask;\r\n    }\r\n\r\n    @property({\r\n        tooltip: 'i18n:bloom.iterations',\r\n        group: { id: 'Bloom', name: 'Bloom (PostProcessing)', style: 'section' },\r\n        type: CCInteger,\r\n        range: [1, 6, 1],\r\n        slide: true,\r\n    })\r\n    set bloomIterations(value: number) {\r\n        this._settings.bloom.iterations = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get bloomIterations(): number {\r\n        return this._settings.bloom.iterations;\r\n    }\r\n\r\n    @property({\r\n        tooltip: 'i18n:bloom.threshold',\r\n        group: { id: 'Bloom', name: 'Bloom (PostProcessing)', style: 'section' },\r\n        type: CCFloat,\r\n        min: 0,\r\n    })\r\n    set bloomThreshold(value: number) {\r\n        this._settings.bloom.threshold = value;\r\n    }\r\n    get bloomThreshold(): number {\r\n        return this._settings.bloom.threshold;\r\n    }\r\n\r\n    set bloomIntensity(value: number) {\r\n        this._settings.bloom.intensity = value;\r\n    }\r\n    get bloomIntensity(): number {\r\n        return this._settings.bloom.intensity;\r\n    }\r\n\r\n    // Color Grading (LDR)\r\n    @property({\r\n        group: { id: 'Color Grading', name: 'ColorGrading (LDR) (PostProcessing)', style: 'section' },\r\n        type: CCBoolean,\r\n    })\r\n    set colorGradingEnable(value: boolean) {\r\n        this._settings.colorGrading.enabled = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get colorGradingEnable(): boolean {\r\n        return this._settings.colorGrading.enabled;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'Color Grading', name: 'ColorGrading (LDR) (PostProcessing)', style: 'section' },\r\n        type: Material,\r\n    })\r\n    set colorGradingMaterial(value: Material) {\r\n        if (this._settings.colorGrading.material === value) {\r\n            return;\r\n        }\r\n        this._settings.colorGrading.material = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get colorGradingMaterial(): Material {\r\n        return this._settings.colorGrading.material!;\r\n    }\r\n\r\n    @property({\r\n        tooltip: 'i18n:color_grading.contribute',\r\n        group: { id: 'Color Grading', name: 'ColorGrading (LDR) (PostProcessing)', style: 'section' },\r\n        type: CCFloat,\r\n        range: [0, 1, 0.01],\r\n        slide: true,\r\n    })\r\n    set colorGradingContribute(value: number) {\r\n        this._settings.colorGrading.contribute = value;\r\n    }\r\n    get colorGradingContribute(): number {\r\n        return this._settings.colorGrading.contribute;\r\n    }\r\n\r\n    @property({\r\n        tooltip: 'i18n:color_grading.originalMap',\r\n        group: { id: 'Color Grading', name: 'ColorGrading (LDR) (PostProcessing)', style: 'section' },\r\n        type: Texture2D,\r\n    })\r\n    set colorGradingMap(val: Texture2D) {\r\n        this._settings.colorGrading.colorGradingMap = val;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get colorGradingMap(): Texture2D {\r\n        return this._settings.colorGrading.colorGradingMap!;\r\n    }\r\n\r\n    // FXAA\r\n    @property({\r\n        group: { id: 'FXAA', name: 'Fast Approximate Anti-Aliasing (PostProcessing)', style: 'section' },\r\n        type: CCBoolean,\r\n    })\r\n    set fxaaEnable(value: boolean) {\r\n        this._settings.fxaa.enabled = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get fxaaEnable(): boolean {\r\n        return this._settings.fxaa.enabled;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'FXAA', name: 'Fast Approximate Anti-Aliasing (PostProcessing)', style: 'section' },\r\n        type: Material,\r\n    })\r\n    set fxaaMaterial(value: Material) {\r\n        if (this._settings.fxaa.material === value) {\r\n            return;\r\n        }\r\n        this._settings.fxaa.material = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get fxaaMaterial(): Material {\r\n        return this._settings.fxaa.material!;\r\n    }\r\n\r\n    // FSR\r\n    @property({\r\n        group: { id: 'FSR', name: 'FidelityFX Super Resolution', style: 'section' },\r\n        type: CCBoolean,\r\n    })\r\n    set fsrEnable(value: boolean) {\r\n        this._settings.fsr.enabled = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get fsrEnable(): boolean {\r\n        return this._settings.fsr.enabled;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'FSR', name: 'FidelityFX Super Resolution', style: 'section' },\r\n        type: Material,\r\n    })\r\n    set fsrMaterial(value: Material) {\r\n        if (this._settings.fsr.material === value) {\r\n            return;\r\n        }\r\n        this._settings.fsr.material = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get fsrMaterial(): Material {\r\n        return this._settings.fsr.material!;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'FSR', name: 'FidelityFX Super Resolution', style: 'section' },\r\n        type: CCFloat,\r\n        range: [0, 1, 0.01],\r\n        slide: true,\r\n    })\r\n    set fsrSharpness(value: number) {\r\n        this._settings.fsr.sharpness = value;\r\n    }\r\n    get fsrSharpness(): number {\r\n        return this._settings.fsr.sharpness;\r\n    }\r\n\r\n    @property({\r\n        group: { id: 'ToneMapping', name: 'ToneMapping', style: 'section' },\r\n        type: Material,\r\n    })\r\n    set toneMappingMaterial(value: Material) {\r\n        if (this._settings.toneMapping.material === value) {\r\n            return;\r\n        }\r\n        this._settings.toneMapping.material = value;\r\n        if (EDITOR) {\r\n            this._tryEnableEditorPreview();\r\n        }\r\n    }\r\n    get toneMappingMaterial(): Material {\r\n        return this._settings.toneMapping.material!;\r\n    }\r\n}\r\n"]}