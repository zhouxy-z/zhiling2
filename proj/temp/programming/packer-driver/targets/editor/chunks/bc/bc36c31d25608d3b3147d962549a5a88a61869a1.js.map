{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/shop/ShopPageBase.ts"],"names":["ShopBasePage","Component","EventMgr","Evt_ShopUpdate","data","shopId","isInit","onLoad","initShow","initOnShow","on","onShopUpdate","UpdateShow","onShow","node","active","onHide","SetData","activeInHierarchy","updateOnShow"],"mappings":";;;oHAIaA,Y;;;;;;;;;;;;;;;;;;;;;;;AAJJC,MAAAA,S,OAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,c,iBAAAA,c;;;;;;;;;8BAGNH,Y,GAAN,MAAMA,YAAN,SAA2BC,SAA3B,CAAqC;AAAA;AAAA;AAAA,eAC9BG,IAD8B;AAAA,eAE9BC,MAF8B;AAAA,eAG9BC,MAH8B,GAGb,KAHa;AAAA;;AAI9BC,QAAAA,MAAM,GAAS;AACrB,eAAKD,MAAL,GAAc,IAAd;AACA,eAAKE,QAAL;AACA,eAAKC,UAAL;AACA;AAAA;AAAA,oCAASC,EAAT;AAAA;AAAA,gDAA4B,KAAKC,YAAjC,EAA+C,IAA/C;AACH;;AAESH,QAAAA,QAAQ,GAAO;AACrB,cAAG,CAAC,KAAKF,MAAN,IAAgB,CAAC,KAAKF,IAAzB,EAA+B;AAC/B,eAAKQ,UAAL;AACH;;AAEDC,QAAAA,MAAM,GAAO;AACT,eAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,eAAKP,QAAL;AACA,eAAKC,UAAL;AACH;;AAEDO,QAAAA,MAAM,GAAO;AACT,eAAKF,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;;AAEDE,QAAAA,OAAO,CAACb,IAAD,EAAwB;AAC3B,eAAKA,IAAL,GAAYA,IAAZ;AACA,eAAKI,QAAL;AACH;;AAESG,QAAAA,YAAY,GAAO;AACzB,cAAG,CAAC,KAAKG,IAAL,CAAUI,iBAAd,EAAiC;AACjC,eAAKV,QAAL;AACH;;AAESI,QAAAA,UAAU,GAAO,CAE1B;;AAESH,QAAAA,UAAU,GAAO;AACvB,cAAG,CAAC,KAAKH,MAAT,EAAiB;AACjB,eAAKa,YAAL;AACH;;AAESA,QAAAA,YAAY,GAAO,CAE5B;;AA/CuC,O","sourcesContent":["import { Component } from \"cc\";\r\nimport { EventMgr, Evt_ShopUpdate } from \"../../manager/EventMgr\";\r\nimport { StdShopGroup } from \"../../manager/CfgMgr\";\r\n\r\nexport class ShopBasePage extends Component {\r\n    protected data:StdShopGroup;\r\n    protected shopId:number;\r\n    protected isInit:boolean = false;\r\n    protected onLoad(): void {\r\n        this.isInit = true;\r\n        this.initShow();\r\n        this.initOnShow();\r\n        EventMgr.on(Evt_ShopUpdate, this.onShopUpdate, this);\r\n    }\r\n\r\n    protected initShow():void{\r\n        if(!this.isInit || !this.data) return;\r\n        this.UpdateShow();\r\n    }\r\n    \r\n    onShow():void{\r\n        this.node.active = true;\r\n        this.initShow();\r\n        this.initOnShow();\r\n    }\r\n    \r\n    onHide():void{\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetData(data:StdShopGroup):void{\r\n        this.data = data;\r\n        this.initShow();\r\n    }\r\n\r\n    protected onShopUpdate():void{\r\n        if(!this.node.activeInHierarchy) return;\r\n        this.initShow();\r\n    }\r\n\r\n    protected UpdateShow():void{\r\n        \r\n    }\r\n\r\n    protected initOnShow():void{\r\n        if(!this.isInit) return;\r\n        this.updateOnShow();\r\n    }\r\n\r\n    protected updateOnShow():void{\r\n        \r\n    }\r\n}"]}