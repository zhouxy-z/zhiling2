{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/cards/CardAwardItem.ts"],"names":["CardAwardItem","Component","Card","Utils","card","lock","getImg","isInit","data","onLoad","node","getChildByPath","addComponent","updateShow","SetData","id","active","SetNodeGray"],"mappings":";;;uGAIaA,a;;;;;;;;;;;;;;;;;;;;;;;AAJEC,MAAAA,S,OAAAA,S;;AACNC,MAAAA,I,iBAAAA,I;;AACAC,MAAAA,K,iBAAAA,K;;;;;;;;;+BAEIH,a,GAAN,MAAMA,aAAN,SAA4BC,SAA5B,CAAsC;AAAA;AAAA;AAAA,eACjCG,IADiC;AAAA,eAEjCC,IAFiC;AAAA,eAGjCC,MAHiC;AAAA,eAIjCC,MAJiC,GAIf,KAJe;AAAA,eAKjCC,IALiC;AAAA;;AAM/BC,QAAAA,MAAM,GAAS;AACrB,eAAKL,IAAL,GAAY,KAAKM,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkCC,YAAlC;AAAA;AAAA,2BAAZ;AACA,eAAKP,IAAL,GAAY,KAAKK,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAZ;AACA,eAAKL,MAAL,GAAc,KAAKI,IAAL,CAAUC,cAAV,CAAyB,QAAzB,CAAd;AACA,eAAKJ,MAAL,GAAc,IAAd;AACA,eAAKM,UAAL;AACH;;AAEDC,QAAAA,OAAO,CAACN,IAAD,EAAqC;AACxC,eAAKA,IAAL,GAAYA,IAAZ;AACA,eAAKK,UAAL;AACH;;AAEOA,QAAAA,UAAU,GAAS;AACvB,cAAI,CAAC,KAAKN,MAAN,IAAgB,CAAC,KAAKC,IAA1B,EAAgC;;AAChC,cAAI,CAAC,KAAKA,IAAL,CAAUO,EAAf,EAAmB;AACf,iBAAKV,IAAL,CAAUW,MAAV,GAAmB,IAAnB;AACA,iBAAKV,MAAL,CAAYU,MAAZ,GAAqB,KAArB;AACA;AAAA;AAAA,gCAAMC,WAAN,CAAkB,KAAKb,IAAL,CAAUM,IAA5B,EAAkC,IAAlC;AACH,WAJD,MAIO;AACH,iBAAKL,IAAL,CAAUW,MAAV,GAAmB,KAAnB;AACA,iBAAKV,MAAL,CAAYU,MAAZ,GAAqB,IAArB;AACA;AAAA;AAAA,gCAAMC,WAAN,CAAkB,KAAKb,IAAL,CAAUM,IAA5B,EAAkC,KAAlC;AACH;;AACD,eAAKN,IAAL,CAAUU,OAAV,CAAkB,KAAKN,IAAvB;AACH;;AA/BwC,O","sourcesContent":["import { Node, Component, Label } from \"cc\";\r\nimport { Card } from \"./Card\";\r\nimport { Utils } from \"../../utils/Utils\";\r\nimport proto from \"../../net/Protocol\";\r\nexport class CardAwardItem extends Component {\r\n    private card: Card;\r\n    private lock: Node;\r\n    private getImg: Node;\r\n    private isInit: boolean = false;\r\n    private data: proto.base.IBattleCard;\r\n    protected onLoad(): void {\r\n        this.card = this.node.getChildByPath(\"Cards\").addComponent(Card);\r\n        this.lock = this.node.getChildByPath(\"lock\");\r\n        this.getImg = this.node.getChildByPath(\"getImg\");\r\n        this.isInit = true;\r\n        this.updateShow();\r\n    }\r\n\r\n    SetData(data: proto.base.IBattleCard): void {\r\n        this.data = data;\r\n        this.updateShow();\r\n    }\r\n\r\n    private updateShow(): void {\r\n        if (!this.isInit || !this.data) return;\r\n        if (!this.data.id) {\r\n            this.lock.active = true;\r\n            this.getImg.active = false;\r\n            Utils.SetNodeGray(this.card.node, true);\r\n        } else {\r\n            this.lock.active = false;\r\n            this.getImg.active = true;\r\n            Utils.SetNodeGray(this.card.node, false);\r\n        }\r\n        this.card.SetData(this.data);\r\n    }\r\n}"]}