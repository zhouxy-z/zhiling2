{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/battle/opOutput/Out_BattleRoomOpOutput_TerrainData.ts"],"names":["Out_BattleRoomOpOutput_TerrainData","BattleBaseComp","battleLogicMgr","start","data","console","error","roomId","round","ownerPlayerId","exit","terrainGrildList","terrainGrild","terrainData","instId","setData","reset"],"mappings":";;;8DAQaA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;AAPJC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,c,iBAAAA,c;;;;;;;AAGT;AACA;AACA;oDACaF,kC,GAAN,MAAMA,kCAAN;AAAA;AAAA,4CAAsG;AAE/FG,QAAAA,KAAK,GAAS;AACpB,cAAI,CAAC,KAAKC,IAAV,EAAgB;AACZC,YAAAA,OAAO,CAACC,KAAR,CAAe,mBAAkB,KAAKC,MAAO,MAAK,KAAKC,KAAM,kBAAiB,KAAKC,aAAc,SAAQ,KAAKL,IAAK,EAAnH;AACA,iBAAKM,IAAL;AACA;AACH;;AACD,cAAIC,gBAAqC,GAAG;AAAA;AAAA,gDAAeA,gBAA3D;;AACA,eAAK,IAAIC,YAAT,IAAyBD,gBAAzB,EAA2C;AACvC,gBAAIC,YAAY,CAACC,WAAb,CAAyBC,MAAzB,IAAmC,KAAKV,IAAL,CAAUS,WAAV,CAAsBC,MAA7D,EAAqE;AACjEF,cAAAA,YAAY,CAACG,OAAb,CAAqB,KAAKX,IAAL,CAAUS,WAA/B;AACH;AACJ;;AACD,eAAKH,IAAL;AACH;;AAESM,QAAAA,KAAK,GAAS,CAEvB;;AAnBwG,O","sourcesContent":["import { base } from \"../../../net/proto/proto\";\r\nimport { BattleBaseComp } from \"../BattleBaseComp\";\r\nimport { battleLogicMgr } from \"../BattleLogicMgr\";\r\nimport { BattleTerrainGrid } from \"../BattleTerrainGrid\";\r\nimport { battleDataMgr } from \"../BattleDataMgr\";\r\n/**\r\n * 房间区域数据\r\n */\r\nexport class Out_BattleRoomOpOutput_TerrainData extends BattleBaseComp<base.IBattleRoomOpOutput_TerrainData> {\r\n    \r\n    protected start(): void {\r\n        if (!this.data) {\r\n            console.error(`房间数据更新失败---->房间：${this.roomId}回合：${this.round}ownerPlayerId: ${this.ownerPlayerId} data:${this.data}`)\r\n            this.exit();\r\n            return;\r\n        }\r\n        let terrainGrildList: BattleTerrainGrid[] = battleLogicMgr.terrainGrildList;\r\n        for (let terrainGrild of terrainGrildList) {\r\n            if (terrainGrild.terrainData.instId == this.data.terrainData.instId) {\r\n                terrainGrild.setData(this.data.terrainData);\r\n            }\r\n        }\r\n        this.exit();\r\n    }\r\n\r\n    protected reset(): void {\r\n       \r\n    }\r\n}"]}