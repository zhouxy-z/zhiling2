{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/fight/opOutput/Out_RoundData.ts"],"names":["Out_RoundData","Second","BattleBaseComp","battleDataMgr","start","isPlayerA","ownerPlayerId","oldMaxRound","roomData","roundMax","finalValue","scene","FlushRound","round","isExit","exit","reset"],"mappings":";;;qEAOaA,a;;;;;;;;;;;;;;;;;;;;;;;;;;AANJC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;AACT;AACA;AACA;+BACaH,a,GAAN,MAAMA,aAAN;AAAA;AAAA,4CAAqF;AACnE,cAALI,KAAK,GAAkB;AACnC,cAAI;AAAA;AAAA,8CAAcC,SAAd,CAAwB,KAAKC,aAA7B,CAAJ,EAAiD;AAC7C,gBAAIC,WAAmB,GAAG;AAAA;AAAA,gDAAcC,QAAd,CAAuBC,QAAvB,CAAgCC,UAA1D;AACA,iBAAKC,KAAL,CAAWC,UAAX,CAAsB,KAAKC,KAA3B,EAAkCN,WAAW,GAAG,CAAhD;AACA,kBAAM;AAAA;AAAA,kCAAO,GAAP,CAAN;AACA,gBAAI,KAAKO,MAAT,EAAiB;AACjB,iBAAKC,IAAL;AACH,WAND,MAMO;AACH,iBAAKA,IAAL;AACH;AAEJ;;AACSC,QAAAA,KAAK,GAAS,CAEvB;;AAfuF,O","sourcesContent":["import proto from \"../../../net/Protocol\";\r\nimport { Second } from \"../../../utils/Utils\";\r\nimport { BattleBaseComp } from \"../../battle/BattleBaseComp\";\r\nimport { battleDataMgr } from \"../../battle/BattleDataMgr\";\r\n/**\r\n * 回合数增加\r\n */\r\nexport class Out_RoundData extends BattleBaseComp<proto.base.IBattleRoomOpOutput_RoundData> {\r\n    protected async start(): Promise<void> {\r\n        if (battleDataMgr.isPlayerA(this.ownerPlayerId)) {\r\n            let oldMaxRound: number = battleDataMgr.roomData.roundMax.finalValue;\r\n            this.scene.FlushRound(this.round, oldMaxRound + 1);\r\n            await Second(0.5);\r\n            if (this.isExit) return;\r\n            this.exit();\r\n        } else {\r\n            this.exit();\r\n        }\r\n        \r\n    }\r\n    protected reset(): void {\r\n        \r\n    }\r\n    \r\n}"]}