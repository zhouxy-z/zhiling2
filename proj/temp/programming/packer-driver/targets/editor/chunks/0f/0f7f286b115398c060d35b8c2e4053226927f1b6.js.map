{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/common/AsyncComponent.ts"],"names":["AsyncComponent","Component","hasLoad","handle","undefined","$loadSub","onLoad","loadSub","self","Promise","resolve","reject"],"mappings":";;;6EAEaA,c;;;;;;;;;AAFJC,MAAAA,S,OAAAA,S;;;;;;;;;gCAEID,c,GAAN,MAAMA,cAAN,SAA6BC,SAA7B,CAAuC;AAAA;AAAA;AAAA,eAEhCC,OAFgC,GAEtB,KAFsB;AAAA,eAGhCC,MAHgC,GAGvBC,SAHuB;AAAA,eAIhCC,QAJgC;AAAA;;AAMhCC,QAAAA,MAAM,GAAG;AACf,eAAKJ,OAAL,GAAe,IAAf;AACA,eAAKC,MAAL,IAAe,KAAKA,MAAL,EAAf;AACH;;AACoB,YAAPI,OAAO,GAAG;AACpB,cAAI,KAAKF,QAAT,EAAmB,OAAO,KAAKA,QAAZ;AACnB,cAAIG,IAAI,GAAG,IAAX;AACA,eAAKH,QAAL,GAAgB,IAAII,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7CH,YAAAA,IAAI,CAACL,MAAL,GAAcO,OAAd;AACH,WAFe,CAAhB;AAGA,iBAAO,KAAKL,QAAZ;AACH;;AAjByC,O","sourcesContent":["import { Component } from \"cc\";\r\n\r\nexport class AsyncComponent extends Component {\r\n\r\n    protected hasLoad = false;\r\n    protected handle = undefined;\r\n    protected $loadSub: Promise<any>;\r\n\r\n    protected onLoad() {\r\n        this.hasLoad = true;\r\n        this.handle && this.handle();\r\n    }\r\n    protected get loadSub() {\r\n        if (this.$loadSub) return this.$loadSub;\r\n        let self = this;\r\n        this.$loadSub = new Promise((resolve, reject) => {\r\n            self.handle = resolve;\r\n        });\r\n        return this.$loadSub;\r\n    }\r\n}"]}