{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/shop/ShopCommItem.ts"],"names":["ShopCommItem","Component","Sprite","Label","Vec3","CfgMgr","ItemType","ThingTypeName","ConsumeItem","ItemUtil","AwardItem","bg","adBg","disCont","disNumLab","awardItem","limitCont","limtNumLab","timeCont","limtTimeTitle","limtTimeLab","adCont","jumpAd","adNumLab","consumeItem","noBuy","sellOut","overTime","isInit","std","data","shopId","onLoad","node","getChildByName","getComponent","getChildByPath","addComponent","updateShow","update","dt","updateShopState","updateAdTime","isAdItem","GetShop","AdId","active","SetData","GoodAmount","count","LimitBuyTime","GetCommShopItem","id","Discount","string","toString","thing","CreateThing","Goodstype","GoodsID","GoodsNum","itemData","awNumLab","otherNumLab","awNameLab","awPosY","awNamePosY","item","stdItem","Getitem","Itemtpye","shard","position","x","Item","CostID","CostNumber"],"mappings":"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","sourcesContent":["import { Button, Component, path, Sprite, SpriteFrame, Node, Label, Vec3, game } from \"cc\";\r\nimport { ResMgr } from \"../../manager/ResMgr\";\r\nimport { DateUtils } from \"../../utils/DateUtils\";\r\nimport { CfgMgr, ItemType, StdShop, StdShopCommodity, ThingTypeName } from \"../../manager/CfgMgr\";\r\nimport { SShopItem } from \"../player/PlayerStruct\";\r\nimport { PlayerData } from \"../player/PlayerData\";\r\nimport { ConsumeItem } from \"../common/ConsumeItem\";\r\nimport { ItemUtil } from \"../../utils/ItemUtils\";\r\nimport { AwardItem } from \"../common/AwardItem\";\r\nimport proto from \"../../net/Protocol\";\r\n\r\nexport class ShopCommItem extends Component {\r\n    private bg:Sprite;\r\n    private adBg:Sprite;\r\n    private disCont:Node;\r\n    private disNumLab:Label;\r\n    private awardItem:AwardItem;\r\n    private limitCont:Node;\r\n    private limtNumLab:Label;\r\n    private timeCont:Node;\r\n    private limtTimeTitle:Label;\r\n    private limtTimeLab:Label;\r\n    private adCont:Node;\r\n    private jumpAd:Node;\r\n    private adNumLab:Label;\r\n    private consumeItem:ConsumeItem;\r\n    private noBuy:Node;\r\n    private sellOut:Node;\r\n    private overTime:Node;\r\n    private isInit:boolean = false;\r\n    private std:StdShopCommodity;\r\n    private data:SShopItem;\r\n    private shopId:number;\r\n    protected onLoad(): void {\r\n        this.bg = this.node.getChildByName(\"bg\").getComponent(Sprite);\r\n        this.adBg = this.node.getChildByName(\"adBg\").getComponent(Sprite);\r\n        this.disCont = this.node.getChildByName(\"disCont\");\r\n        this.disNumLab = this.node.getChildByPath(\"disCont/disNumLab\").getComponent(Label);\r\n        this.awardItem = this.node.getChildByName(\"AwardItem\").addComponent(AwardItem);\r\n        this.limitCont = this.node.getChildByName(\"limitCont\");\r\n        this.limtNumLab = this.node.getChildByPath(\"limitCont/limtNumLab\").getComponent(Label);\r\n        this.timeCont = this.node.getChildByPath(\"limitCont/timeCont\");\r\n        this.limtTimeTitle = this.node.getChildByPath(\"limitCont/timeCont/limtTimeTitle\").getComponent(Label);\r\n        this.limtTimeLab = this.node.getChildByPath(\"limitCont/timeCont/limtTimeLab\").getComponent(Label);\r\n        this.consumeItem = this.node.getChildByName(\"consumeItem\").addComponent(ConsumeItem);\r\n        this.adCont = this.node.getChildByName(\"adCont\");\r\n        this.jumpAd = this.node.getChildByPath(\"adCont/icon/jumpAd\");\r\n        this.adNumLab = this.node.getChildByPath(\"adCont/adNumLab\").getComponent(Label);\r\n        this.noBuy = this.node.getChildByName(\"noBuy\");\r\n        this.sellOut = this.node.getChildByPath(\"noBuy/sellOut\");\r\n        this.overTime = this.node.getChildByPath(\"noBuy/overTime\");\r\n        this.isInit = true;\r\n        this.updateShow();\r\n    }\r\n    protected update(dt: number): void {\r\n        // if(this.data && this.std.LimitBuyTime > 0){\r\n            // let residueTime:number = Math.max(Math.floor(this.data.expiration_time - PlayerData.GetServerTime()), 0);\r\n            // this.limtTimeLab.string = DateUtils.FormatTime(residueTime, \"%{hh}:%{mm}:%{ss}\");\r\n            // if(residueTime > 86400){\r\n            //     this.limtTimeLab.string = DateUtils.FormatTime(residueTime, \"%{d}天%{hh}:%{mm}:%{ss}\");\r\n            // }else{\r\n            //     if(residueTime > 0){\r\n            //         this.limtTimeLab.string = DateUtils.FormatTime(residueTime, \"%{hh}:%{mm}:%{ss}\");\r\n            //     }else{\r\n            //         this.limtTimeLab.string = \"活动结束\";\r\n            //         //this.SetData(this.data);\r\n            //     }   \r\n            // }\r\n        // }\r\n        this.updateShopState();\r\n        this.updateAdTime();\r\n    }\r\n    private updateAdTime():void{\r\n        if(!this.data) return;\r\n        //是否才有广告的商品\r\n        if(this.data.isAdItem){\r\n            let std:StdShop = CfgMgr.GetShop(this.shopId);\r\n            if(std.AdId > 0){\r\n                this.adBg.node.active = true;\r\n                // let adData:SAdvister = PlayerData.GetAdvisterData(std.AdId);\r\n                // let stdAd: StdAdvister = CfgMgr.GetAdvister(std.AdId);\r\n                // let cd:number = adData.cdEndTime - game.totalTime;\r\n                // if(cd > 0){\r\n                //     this.adNumLab.string = DateUtils.FormatTime(cd/1000, \"%{mm}:%{ss}\");\r\n                // }else{\r\n                //     this.adNumLab.string = `广告（${adData.count}/${stdAd.Max_numb}）`;\r\n                // }\r\n                // this.consumeItem.node.active = false;\r\n                this.adCont.active = true;\r\n                \r\n            }else{\r\n                this.adBg.node.active = false;\r\n                this.consumeItem.node.active = true;\r\n                this.adCont.active = false;\r\n            }\r\n        }else{\r\n            this.adBg.node.active = false;\r\n            this.consumeItem.node.active = true;\r\n            this.adCont.active = false;\r\n        }\r\n        \r\n    }\r\n    SetData(data:SShopItem, shopId:number) {\r\n        this.data = data;\r\n        this.shopId = shopId;\r\n        this.updateShow();\r\n        this.updateShopState();\r\n    }\r\n    private updateShopState():void{\r\n        if(!this.data || !this.std) return;\r\n        this.noBuy.active = false;\r\n        if(this.std.GoodAmount > 0){\r\n            if(this.data.count < 1){\r\n                this.noBuy.active = true;\r\n                this.sellOut.active = true;\r\n                this.overTime.active= false;\r\n            }\r\n        }\r\n        if(this.std.LimitBuyTime > 0 && !this.noBuy.active){\r\n            // if(this.data.expiration_time - PlayerData.GetServerTime() <= 0){\r\n                this.noBuy.active = true;\r\n                this.sellOut.active = false;\r\n                this.overTime.active= true;\r\n            // }\r\n        }\r\n    }\r\n    private updateShow():void {\r\n        if(!this.isInit || !this.data) return;\r\n        this.std = CfgMgr.GetCommShopItem(this.data.id);\r\n        if(!this.std)return;\r\n        if( this.std && this.std.Discount > 0){\r\n            this.disCont.active = true;\r\n            this.disNumLab.string = this.std.Discount.toString();\r\n        }else{\r\n            this.disCont.active = false;\r\n        }\r\n\r\n        if( this.std && this.std.GoodAmount > 0){\r\n            this.limtNumLab.node.active = true;\r\n            this.limtNumLab.string = `数量：${this.data.count}/${this.std.GoodAmount}`;\r\n        }else{\r\n            this.limtNumLab.node.active = false;\r\n        }\r\n        this.timeCont.active = this.std && this.std.LimitBuyTime > 0;\r\n        \r\n        let thing:proto.base.IThing;\r\n        thing = ItemUtil.CreateThing(this.std.Goodstype[0], this.std.GoodsID[0], this.std.GoodsNum[0]);\r\n        // let url = path.join(\"sheets/shop\", `qualBg_${thing.resData.qual}`, \"spriteFrame\");\r\n        // ResMgr.LoadResAbSub(url, SpriteFrame, res => {\r\n        //     this.bg.spriteFrame = res;\r\n        // });\r\n        this.awardItem.SetData({itemData:thing});\r\n        let awNumLab = this.awardItem.node.getChildByName(\"numLab\").getComponent(Label);\r\n        let otherNumLab = this.awardItem.node.getChildByName(\"otherNumLab\").getComponent(Label);\r\n        let awNameLab = this.awardItem.node.getChildByName(\"nameLab\");\r\n        awNumLab.node.active = true;\r\n        otherNumLab.node.active = false;\r\n        otherNumLab.string = this.std.GoodsNum[0].toString();\r\n        let awPosY:number = 62;\r\n        let awNamePosY:number = -142;\r\n        if(thing.item){\r\n            let stdItem = CfgMgr.Getitem(thing.item.id);\r\n            if(stdItem){\r\n                if (stdItem.Itemtpye == ItemType.shard) {\r\n                    awPosY = 50;\r\n                    awNamePosY = -130;\r\n                    awNumLab.node.active = false;\r\n                    otherNumLab.node.active = true;\r\n                }else{\r\n                    awNumLab.string = \"x\" + this.std.GoodsNum[0];\r\n                }\r\n            }\r\n        }\r\n        awNameLab.position = new Vec3(0, awNamePosY, 0);\r\n        this.awardItem.node.position = new Vec3(this.awardItem.node.position.x, awPosY, 0);\r\n        thing = ItemUtil.CreateThing(ThingTypeName.Item, this.std.CostID[0], this.std.CostNumber[0]);\r\n        this.consumeItem.SetData(thing);\r\n        // this.jumpAd.active = PlayerData.GetIsActivateRights(StdEquityId.Id_9) || PlayerData.GetIsActivateRights(StdEquityId.Id_10);\r\n    }\r\n}"]}