{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/utils/LocalStorage.ts"],"names":["LocalStorage","sys","PlayerData","SetBool","cusKey","cusValue","localStorage","setItem","gameName","player","playerId","toString","GetBool","cusDefault","_value","getItem","SetNumber","GetNumber","Number","SetString","GetString","def","SetObject","JSON","stringify","GetObject","parse","SetPlayerData","key","data","value","GetPlayerData","RemoveItem","removeItem","Clear","clear"],"mappings":"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","sourcesContent":["import { sys } from \"cc\";\r\nimport { PlayerData } from \"../module/player/PlayerData\";\r\n\r\n/**\r\n * 本地存储二次封装\r\n */\r\nexport default class LocalStorage {\r\n\r\n    protected static readonly gameName = \"gamefi002_\";\r\n\r\n    /**\r\n     * 存储布尔值 \r\n     */\r\n    public static SetBool(cusKey: string, cusValue: boolean) {\r\n        sys.localStorage.setItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey, cusValue.toString());\r\n    }\r\n\r\n    /**\r\n     * 获取布尔值 \r\n     */\r\n    public static GetBool(cusKey: string, cusDefault: boolean = false): boolean {\r\n        const _value = sys.localStorage.getItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey);\r\n        if (_value) {\r\n            return _value == \"true\" ? true : false;\r\n        }\r\n        else {\r\n            return cusDefault\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 存储Number \r\n     */\r\n    public static SetNumber(cusKey: string, cusValue: number) {\r\n        sys.localStorage.setItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey, cusValue.toString());\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取Number \r\n     */\r\n    public static GetNumber(cusKey: string, cusDefault: number = 0): number {\r\n        const _value = sys.localStorage.getItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey);\r\n        if (_value) {\r\n            return Number(_value);\r\n        }\r\n        return cusDefault\r\n    }\r\n\r\n    /**\r\n     * 存储字符串 \r\n     */\r\n    public static SetString(cusKey: string, cusValue: string) {\r\n        sys.localStorage.setItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey, cusValue);\r\n    }\r\n\r\n    /**\r\n     * 获取字符串 \r\n     */\r\n    public static GetString(cusKey: string, def: string = \"\"): string {\r\n        const _value = sys.localStorage.getItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey);\r\n        if (_value) {\r\n            return _value;\r\n        }\r\n        return def;\r\n    }\r\n\r\n    /**\r\n     * 存储Object \r\n     */\r\n    public static SetObject(cusKey: string, cusValue: Object) {\r\n        sys.localStorage.setItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey, JSON.stringify(cusValue));\r\n        return cusValue\r\n    }\r\n\r\n    /**\r\n     * 获取Object \r\n     */\r\n    public static GetObject(cusKey: string, cusDefault = null): any {\r\n        const _value = sys.localStorage.getItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey);\r\n        if (_value) {\r\n            return JSON.parse(_value)\r\n        }\r\n        return cusDefault\r\n    }\r\n    /**\r\n     * 设置玩家数据\r\n     * @param playerId \r\n     * @param key \r\n     * @param data \r\n     */\r\n    public static SetPlayerData(playerId: string, key: string, data: any): void {\r\n        let value = this.GetObject(playerId);\r\n        if (!value) {\r\n            value = {};\r\n        }\r\n        value[key] = data;\r\n        this.SetObject(playerId, value);\r\n    }\r\n    /**\r\n     * 获取玩家数据\r\n     * @param playerId \r\n     * @param key 属性名\r\n     */\r\n    public static GetPlayerData(playerId: string, key: string): any {\r\n        let value = this.GetObject(playerId);\r\n        return value ? value[key] : null;\r\n    }\r\n\r\n    public static RemoveItem(cusKey: string) {\r\n        sys.localStorage.removeItem(this.gameName + PlayerData?.player?.playerId + \"_\" + cusKey);\r\n    }\r\n\r\n    public static Clear() {\r\n        sys.localStorage.clear();\r\n    }\r\n\r\n}"]}