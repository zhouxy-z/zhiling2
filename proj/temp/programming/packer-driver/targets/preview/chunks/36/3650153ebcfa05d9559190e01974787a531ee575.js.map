{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/fight/opOutput/Out_RoundData.ts"],"names":["Out_RoundData","Second","BattleBaseComp","battleDataMgr","start","isPlayerA","ownerPlayerId","oldMaxRound","roomData","roundMax","finalValue","scene","FlushRound","round","isExit","exit","reset"],"mappings":";;;qEAOaA,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AANJC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;AACT;AACA;AACA;+BACaH,a,GAAN,MAAMA,aAAN;AAAA;AAAA,4CAAqF;AACxEI,QAAAA,KAAK,GAAkB;AAAA;;AAAA;AACnC,gBAAI;AAAA;AAAA,gDAAcC,SAAd,CAAwB,KAAI,CAACC,aAA7B,CAAJ,EAAiD;AAC7C,kBAAIC,WAAmB,GAAG;AAAA;AAAA,kDAAcC,QAAd,CAAuBC,QAAvB,CAAgCC,UAA1D;;AACA,cAAA,KAAI,CAACC,KAAL,CAAWC,UAAX,CAAsB,KAAI,CAACC,KAA3B,EAAkCN,WAAW,GAAG,CAAhD;;AACA,oBAAM;AAAA;AAAA,oCAAO,GAAP,CAAN;AACA,kBAAI,KAAI,CAACO,MAAT,EAAiB;;AACjB,cAAA,KAAI,CAACC,IAAL;AACH,aAND,MAMO;AACH,cAAA,KAAI,CAACA,IAAL;AACH;AATkC;AAWtC;;AACSC,QAAAA,KAAK,GAAS,CAEvB;;AAfuF,O","sourcesContent":["import proto from \"../../../net/Protocol\";\r\nimport { Second } from \"../../../utils/Utils\";\r\nimport { BattleBaseComp } from \"../../battle/BattleBaseComp\";\r\nimport { battleDataMgr } from \"../../battle/BattleDataMgr\";\r\n/**\r\n * 回合数增加\r\n */\r\nexport class Out_RoundData extends BattleBaseComp<proto.base.IBattleRoomOpOutput_RoundData> {\r\n    protected async start(): Promise<void> {\r\n        if (battleDataMgr.isPlayerA(this.ownerPlayerId)) {\r\n            let oldMaxRound: number = battleDataMgr.roomData.roundMax.finalValue;\r\n            this.scene.FlushRound(this.round, oldMaxRound + 1);\r\n            await Second(0.5);\r\n            if (this.isExit) return;\r\n            this.exit();\r\n        } else {\r\n            this.exit();\r\n        }\r\n        \r\n    }\r\n    protected reset(): void {\r\n        \r\n    }\r\n    \r\n}"]}