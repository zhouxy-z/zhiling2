{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/battle/BattleGrid.ts"],"names":["BattleGrid","Component","cardCont","gridId","isInit","cardNode","onLoad","node","getChildByName","updateShow","parent","setData","addCardNode","removeCardNode","removeFromParent"],"mappings":";;;6EAEaA,U;;;;;;;;;AAFEC,MAAAA,S,OAAAA,S;;;;;;;;;4BAEFD,U,GAAN,MAAMA,UAAN,SAAyBC,SAAzB,CAAmC;AAAA;AAAA;AAAA,eAC9BC,QAD8B;AACf;AADe,eAE9BC,MAF8B;AAEf;AAFe,eAG9BC,MAH8B,GAGZ,KAHY;AAAA,eAI9BC,QAJ8B;AAAA;;AAK5BC,QAAAA,MAAM,GAAS;AACrB,eAAKJ,QAAL,GAAgB,KAAKK,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAhB;AACA,eAAKJ,MAAL,GAAc,IAAd;AAEH;;AAEOK,QAAAA,UAAU,GAAS;AACvB,cAAI,CAAC,KAAKL,MAAN,IAAgB,CAAC,KAAKD,MAA1B,EAAkC;;AAClC,cAAI,KAAKE,QAAT,EAAmB;AACf,iBAAKA,QAAL,CAAcK,MAAd,GAAuB,KAAKR,QAA5B;AACH;AACJ;;AAEDS,QAAAA,OAAO,CAACR,MAAD,EAAuB;AAC1B,eAAKA,MAAL,GAAcA,MAAd;AACH;AAED;AACJ;AACA;;;AACWS,QAAAA,WAAW,CAACP,QAAD,EAAuB;AACrC,cAAI,CAAC,KAAKD,MAAN,IAAgB,CAAC,KAAKD,MAA1B,EAAkC;AAC9B,iBAAKE,QAAL,GAAgBA,QAAhB;AACH;;AACD,eAAKI,UAAL;AACH;AAED;AACJ;AACA;;;AACWI,QAAAA,cAAc,GAAS;AAC1B,cAAI,KAAKR,QAAL,IAAiB,KAAKA,QAAL,CAAcK,MAAnC,EAA2C;AACvC,iBAAKL,QAAL,CAAcS,gBAAd;AACH;AACJ;;AAvCqC,O","sourcesContent":["import { Node, Component } from \"cc\";\r\n\r\nexport class BattleGrid extends Component {\r\n    private cardCont: Node;//卡牌容器\r\n    private gridId: number;//格子id\r\n    private isInit: boolean = false;\r\n    private cardNode: Node;\r\n    protected onLoad(): void {\r\n        this.cardCont = this.node.getChildByName(\"cardCont\");\r\n        this.isInit = true;\r\n\r\n    }\r\n\r\n    private updateShow(): void {\r\n        if (!this.isInit || !this.gridId) return;\r\n        if (this.cardNode) {\r\n            this.cardNode.parent = this.cardCont;\r\n        }\r\n    }\r\n\r\n    setData(gridId: number): void {\r\n        this.gridId = gridId;\r\n    }\r\n\r\n    /**\r\n     * 添加卡牌节点\r\n     */\r\n    public addCardNode(cardNode: Node): void {\r\n        if (!this.isInit || !this.gridId) {\r\n            this.cardNode = cardNode;        \r\n        }\r\n        this.updateShow();\r\n    }\r\n\r\n    /**\r\n     * 移除卡牌节点\r\n     */\r\n    public removeCardNode(): void {\r\n        if (this.cardNode && this.cardNode.parent) {\r\n            this.cardNode.removeFromParent();\r\n        }\r\n    }\r\n\r\n    \r\n}"]}