{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/module/fight/opOutput/Out_BattleRoomOpOutput_TerrainData.ts"],"names":["Out_BattleRoomOpOutput_TerrainData","BattleBaseComp","Battle_UpdateTerrain","EventMgr","battleDataMgr","start","ispLayerA","isPlayerA","ownerPlayerId","scene","FlushTerrain","data","terrainData","isExit","emit","exit","reset"],"mappings":";;;6FAOaA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPJC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,oB,iBAAAA,oB;AAAsBC,MAAAA,Q,iBAAAA,Q;;AAEtBC,MAAAA,a,iBAAAA,a;;;;;;;AACT;AACA;AACA;oDACaJ,kC,GAAN,MAAMA,kCAAN;AAAA;AAAA,4CAA4G;AAE/FK,QAAAA,KAAK,GAAG;AAAA;;AAAA;AACpB,gBAAIC,SAAS,GAAG;AAAA;AAAA,gDAAcC,SAAd,CAAwB,KAAI,CAACC,aAA7B,CAAhB;AACA,kBAAM,KAAI,CAACC,KAAL,CAAWC,YAAX,CAAwBJ,SAAxB,EAAmC,CAAC,KAAI,CAACK,IAAL,CAAUC,WAAX,CAAnC,EAA4D,KAAI,CAACJ,aAAjE,CAAN;AACA,gBAAI,KAAI,CAACK,MAAT,EAAiB;AACjB;AAAA;AAAA,sCAASC,IAAT;AAAA;AAAA,8DAAoC,CAAC,KAAI,CAACH,IAAL,CAAUC,WAAX,CAApC;;AACA,YAAA,KAAI,CAACG,IAAL;AALoB;AAMvB;;AAESC,QAAAA,KAAK,GAAS,CAEvB;;AAZ8G,O","sourcesContent":["import { BattleBaseComp } from \"../../battle/BattleBaseComp\";\r\nimport { Battle_UpdateTerrain, EventMgr } from \"../../../manager/EventMgr\";\r\nimport proto from \"../../../net/Protocol\";\r\nimport { battleDataMgr } from \"../../battle/BattleDataMgr\";\r\n/**\r\n * 房间区域数据\r\n */\r\nexport class Out_BattleRoomOpOutput_TerrainData extends BattleBaseComp<proto.base.IBattleRoomOpOutput_TerrainData> {\r\n\r\n    protected async start() {\r\n        let ispLayerA = battleDataMgr.isPlayerA(this.ownerPlayerId)\r\n        await this.scene.FlushTerrain(ispLayerA, [this.data.terrainData], this.ownerPlayerId);\r\n        if (this.isExit) return;\r\n        EventMgr.emit(Battle_UpdateTerrain, [this.data.terrainData]);\r\n        this.exit();\r\n    }\r\n\r\n    protected reset(): void {\r\n\r\n    }\r\n\r\n}"]}