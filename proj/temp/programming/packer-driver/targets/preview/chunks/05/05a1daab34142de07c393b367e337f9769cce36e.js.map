{"version":3,"sources":["file:///D:/plants_client/trunk/proj/assets/scripts/debug/wyc/TestFight.ts"],"names":["MyNode","_decorator","Component","find","Node","Second","GameScene","ResMgr","GameLogic","CfgMgr","GameSet","ccclass","property","TestFight","state","onLoad","addComponent","start","PrevLoad","load","getIsntance","Init","onEndRound","Round_End","Round_Play","Round_New","update","deltaTime"],"mappings":";;;yKAsEMA,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAtEGC,MAAAA,U,OAAAA,U;AAA4BC,MAAAA,S,OAAAA,S;AAAiCC,MAAAA,I,OAAAA,I;AAA6BC,MAAAA,I,OAAAA,I;;AAC1FC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,M,iBAAAA,M;;AAEAC,MAAAA,O,iBAAAA,O;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;;2BAGjBY,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BX,SAD/B,CACyC;AAAA;AAAA;AAAA,eACrCY,KADqC,GAC7B,CAD6B;AAAA;;AAErBC,QAAAA,MAAM,GAAG;AAAA;AACrBZ,YAAAA,IAAI,CAAC,OAAD,CAAJ,CAAca,YAAd;AAAA;AAAA;AADqB;AAExB;;AAEKC,QAAAA,KAAK,GAAG;AAAA;AACV;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA,kBAAM;AAAA;AAAA,kCAAOC,QAAP,EAAN;AACA,kBAAM;AAAA;AAAA,kCAAOC,IAAP,EAAN;AAGA,kBAAM;AAAA;AAAA,kCAAO,GAAP,CAAN;AACA;AAAA;AAAA,wCAAUC,WAAV,GAAwBC,IAAxB,GAjBU,CAkBV;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AA9BU;AA+Bb;;AAEKC,QAAAA,UAAU,GAAG;AAAA;;AAAA;AACf,gBAAI,KAAI,CAACR,KAAL,IAAc,CAAlB,EAAqB;AACjB,cAAA,KAAI,CAACA,KAAL,GAAa,CAAb;AACA;AAAA;AAAA,0CAAUS,SAAV;AACA,oBAAM;AAAA;AAAA,oCAAO,CAAP,CAAN;AACA;AAAA;AAAA,0CAAUC,UAAV;AACA,oBAAM;AAAA;AAAA,oCAAO,CAAP,CAAN;AACA;AAAA;AAAA,0CAAUC,SAAV;AACA,cAAA,KAAI,CAACX,KAAL,GAAa,CAAb;AACH;AATc;AAUlB;;AAEDY,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB;AAAA;AAAA,kCAAQD,MAAR,CAAeC,SAAf;AACH;;AArDoC,O;;AA0DnC3B,MAAAA,M,GAAN,MAAMA,MAAN,SAAqBI,IAArB,CAA0B,E","sourcesContent":["import { _decorator, Camera, Canvas, Component, director, EventTouch, find, geometry, Input, math, Node, Scene, Tween, tween, UITransform, v3, Vec2, view } from 'cc';\r\nimport { Second, Utils } from '../../utils/Utils';\r\nimport { GameScene } from '../../module/fight/GameScene';\r\nimport { ResMgr } from '../../manager/ResMgr';\r\nimport { GameLogic } from '../../module/fight/GameLogic';\r\nimport { CfgMgr } from '../../manager/CfgMgr';\r\nimport base from '../../net/proto/BaseUtils';\r\nimport { GameSet } from '../../manager/GameSet';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TestFight')\r\nexport class TestFight extends Component {\r\n    state = 0;\r\n    protected async onLoad() {\r\n        find(\"scene\").addComponent(GameScene);\r\n    }\r\n\r\n    async start() {\r\n        // let door = find(\"scene/enter\");\r\n        // let tw = tween(door).to(1, { worldPosition: v3(0, 2, 0) }).call(() => { console.log(\"end\") }).start();\r\n        // tw.tag(123);\r\n\r\n        // tw.to(1, { worldPosition: v3(-5, 2, 0) }).call(() => { console.log(\"end1\") }).start();\r\n\r\n        // await Second(1);\r\n        // Tween.stopAllByTag(123);\r\n        // console.log(tw.running);\r\n        // tw.start();\r\n\r\n        await ResMgr.PrevLoad();\r\n        await CfgMgr.load();\r\n\r\n        \r\n        await Second(0.2);\r\n        GameScene.getIsntance().Init();\r\n        // let handCards = [];\r\n        // for (let i = 0; i < 2; i++) {\r\n        //     let data = base.BattleRoomCardData.create();\r\n        //     handCards.push(data);\r\n        //     data.configId = 1;\r\n        //     data.instId = i + \"\";\r\n        // }\r\n\r\n        //GameLogic.Enter(handCards, [[], [], []], [[], [], []]);\r\n        //GameLogic.Round_New();\r\n        //find(\"Canvas/endRound\").on(Input.EventType.TOUCH_END, this.onEndRound, this);\r\n\r\n        //this.state = 1;\r\n    }\r\n\r\n    async onEndRound() {\r\n        if (this.state == 1) {\r\n            this.state = 2;\r\n            GameLogic.Round_End();\r\n            await Second(2);\r\n            GameLogic.Round_Play();\r\n            await Second(2);\r\n            GameLogic.Round_New();\r\n            this.state = 1;\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        GameSet.update(deltaTime)\r\n    }\r\n\r\n}\r\n\r\n\r\nclass MyNode extends Node {\r\n\r\n}"]}